# Keepå¥èº«ä»ªè¡¨ç›˜ - å›¾è¡¨å’ŒAPIå®Œæ•´æŒ‡å—

## ğŸ¨ æ‰€æœ‰å›¾è¡¨é¡µé¢

### 1. ä»ªè¡¨ç›˜ (`/dashboard`)
**å›¾è¡¨ç±»å‹**:
- ğŸ“ˆ è¿åŠ¨è¶‹åŠ¿æŠ˜çº¿å›¾ - è¿‘30å¤©å¡è·¯é‡Œå’Œæ—¶é•¿
- ğŸ© è¿åŠ¨ç±»å‹é¥¼å›¾ - å„ç±»è¿åŠ¨å æ¯”

**æ•°æ®å±•ç¤º**:
- 4ä¸ªç»Ÿè®¡å¡ç‰‡:æœ¬å‘¨è¿åŠ¨ã€æœ¬æœˆæ¶ˆè€—ã€æœ¬æœˆæ—¶é•¿ã€BMI
- æœ€è¿‘è¿åŠ¨è®°å½•è¡¨æ ¼(æœ€å¤š10æ¡)
- æœ€æ–°èº«ä½“æ•°æ®å¡ç‰‡

**APIç«¯ç‚¹**:
- `GET /analytics/api/workout-trend?days=30`
- `GET /analytics/api/workout-type-distribution`

---

### 2. æ•°æ®åˆ†æ (`/analytics/overview`)
**å›¾è¡¨ç±»å‹**:
- ğŸ“Š æœˆåº¦è¿åŠ¨ç»Ÿè®¡æŸ±çŠ¶å›¾ - æœ€è¿‘6ä¸ªæœˆè¿åŠ¨æ¬¡æ•°
- ğŸ© è¿åŠ¨ç±»å‹åˆ†å¸ƒé¥¼å›¾ - å„ç±»è¿åŠ¨å æ¯”

**æ•°æ®å±•ç¤º**:
- 4ä¸ªç»Ÿè®¡å¡ç‰‡:æ€»è¿åŠ¨æ¬¡æ•°ã€æ€»æ¶ˆè€—ã€æ€»æ—¶é•¿ã€å¹³å‡æ—¶é•¿

**APIç«¯ç‚¹**:
- `GET /analytics/api/monthly-stats`
- `GET /analytics/api/workout-type-distribution`

---

### 3. è¿åŠ¨ç»Ÿè®¡ (`/analytics/workout-stats`)
**å›¾è¡¨ç±»å‹**:
- ğŸ“ˆ è¿åŠ¨è¶‹åŠ¿æŠ˜çº¿å›¾ - è¿‘30å¤©æ•°æ®
- ğŸ“Š è¿åŠ¨æ—¶é•¿åˆ†å¸ƒæŸ±çŠ¶å›¾
- ğŸ¥§ éš¾åº¦åˆ†å¸ƒé¥¼å›¾

**APIç«¯ç‚¹**:
- `GET /analytics/api/workout-trend?days=30`

---

### 4. ä½“é‡è¶‹åŠ¿ (`/analytics/body-stats`) âœ¨ é‡ç‚¹ä¿®å¤
**å›¾è¡¨ç±»å‹**:
- ğŸ“ˆ ä½“é‡å˜åŒ–è¶‹åŠ¿æŠ˜çº¿å›¾ - 90å¤©æ•°æ®
- ğŸ“‰ ä½“è„‚ç‡å˜åŒ–æŠ˜çº¿å›¾
- ğŸ“Š BMIå˜åŒ–æŠ˜çº¿å›¾

**æ•°æ®å±•ç¤º**:
- æ‰€æœ‰å›¾è¡¨éƒ½ä¾èµ–èº«ä½“æ•°æ®è®°å½•
- è‡ªåŠ¨è®¡ç®—BMI(éœ€è¦ç”¨æˆ·è®¾ç½®èº«é«˜)

**APIç«¯ç‚¹**:
- `GET /analytics/api/body-data-trend?days=90` âœ… å·²ä¿®å¤

---

### 5. èº«ä½“æ•°æ® (`/workout/body-records`)
**å›¾è¡¨ç±»å‹**:
- ğŸ“ˆ ä½“é‡å˜åŒ–è¶‹åŠ¿æŠ˜çº¿å›¾ - 90å¤©æ•°æ®

**æ•°æ®å±•ç¤º**:
- èº«ä½“æ•°æ®è®°å½•è¡¨æ ¼
- æœ€æ–°æ•°æ®å¡ç‰‡

**APIç«¯ç‚¹**:
- `GET /analytics/api/body-data-trend?days=90`

---

## ğŸ”Œ APIç«¯ç‚¹åˆ—è¡¨

### è¿åŠ¨æ•°æ®API

#### 1. è¿åŠ¨è¶‹åŠ¿
```
GET /analytics/api/workout-trend?days=30
```
**è¿”å›**:
```json
{
  "labels": ["10-01", "10-02", ...],
  "calories": [250, 300, ...],
  "duration": [30, 45, ...],
  "distance": [5.0, 6.2, ...]
}
```

#### 2. è¿åŠ¨ç±»å‹åˆ†å¸ƒ
```
GET /analytics/api/workout-type-distribution
```
**è¿”å›**:
```json
{
  "labels": ["running", "cycling", "swimming"],
  "data": [10, 8, 5]
}
```

#### 3. æœˆåº¦ç»Ÿè®¡ âœ… æ–°å¢
```
GET /analytics/api/monthly-stats
```
**è¿”å›**:
```json
{
  "labels": ["2025-05", "2025-06", "2025-07", ...],
  "count": [12, 15, 18, ...]
}
```

### èº«ä½“æ•°æ®API

#### 4. èº«ä½“æ•°æ®è¶‹åŠ¿ âœ… å·²ä¿®å¤
```
GET /analytics/api/body-data-trend?days=90
```
**è¿”å›**:
```json
{
  "labels": ["10-01", "10-02", ...],
  "weight": [65.5, 65.3, 65.0, ...],
  "body_fat": [16.5, 16.3, 16.0, ...],
  "bmi": [21.4, 21.3, 21.2, ...]
}
```

#### 5. æ±‡æ€»ç»Ÿè®¡
```
GET /analytics/api/summary-stats
```
**è¿”å›**:
```json
{
  "total_workouts": 30,
  "total_calories": 8500,
  "total_duration": 900,
  "week_workouts": 5,
  "month_calories": 2500,
  "avg_duration": 30
}
```

---

## ğŸ”§ æœ¬æ¬¡ä¿®å¤å†…å®¹

### é—®é¢˜1: ä½“é‡è¶‹åŠ¿é¡µé¢æ²¡æœ‰å›¾è¡¨æ•°æ®
**åŸå› **: APIç«¯ç‚¹åç§°ä¸åŒ¹é…
- æ¨¡æ¿è°ƒç”¨: `/analytics/api/body-data-trend`
- å®é™…ç«¯ç‚¹: `/analytics/api/body-weight-trend`

**è§£å†³æ–¹æ¡ˆ**:
âœ… æ·»åŠ äº† `/analytics/api/body-data-trend` ç«¯ç‚¹
âœ… å®ç°å®Œæ•´çš„æ•°æ®è¿”å›:
  - ä½“é‡æ•°æ® (weight)
  - ä½“è„‚ç‡æ•°æ® (body_fat)
  - BMIæ•°æ® (è‡ªåŠ¨è®¡ç®—)

### é—®é¢˜2: ç¼ºå°‘æœˆåº¦ç»Ÿè®¡API
**åŸå› **: æ•°æ®åˆ†æé¡µé¢éœ€è¦æœˆåº¦ç»Ÿè®¡æ•°æ®

**è§£å†³æ–¹æ¡ˆ**:
âœ… æ·»åŠ äº† `/analytics/api/monthly-stats` ç«¯ç‚¹
âœ… ä½¿ç”¨Pandaså¤„ç†æ•°æ®
âœ… è¿”å›æœ€è¿‘6ä¸ªæœˆçš„è¿åŠ¨æ¬¡æ•°

---

## ğŸ“Š å›¾è¡¨é…ç½®è¯¦æƒ…

### Chart.js é…ç½®

#### æŠ˜çº¿å›¾ (Line Chart)
```javascript
{
  type: 'line',
  data: {
    labels: ['10-01', '10-02', ...],
    datasets: [{
      label: 'ä½“é‡(kg)',
      data: [65.5, 65.3, ...],
      borderColor: '#4F46E5',
      backgroundColor: 'rgba(79, 70, 229, 0.1)',
      tension: 0.4,
      fill: true
    }]
  },
  options: {
    responsive: true,
    maintainAspectRatio: true
  }
}
```

#### é¥¼å›¾ (Doughnut Chart)
```javascript
{
  type: 'doughnut',
  data: {
    labels: ['è·‘æ­¥', 'éª‘è¡Œ', 'æ¸¸æ³³'],
    datasets: [{
      data: [10, 8, 5],
      backgroundColor: ['#4F46E5', '#10B981', '#F59E0B']
    }]
  }
}
```

#### æŸ±çŠ¶å›¾ (Bar Chart)
```javascript
{
  type: 'bar',
  data: {
    labels: ['2025-05', '2025-06'],
    datasets: [{
      label: 'è¿åŠ¨æ¬¡æ•°',
      data: [12, 15],
      backgroundColor: '#4F46E5',
      borderRadius: 4
    }]
  }
}
```

---

## ğŸ§ª æµ‹è¯•æ­¥éª¤

### æµ‹è¯•ä½“é‡è¶‹åŠ¿é¡µé¢
1. è®¿é—® http://127.0.0.1:8080
2. ç™»å½•: demo / 123456
3. ç‚¹å‡»å·¦ä¾§èœå•"ä½“é‡è¶‹åŠ¿"
4. **é¢„æœŸç»“æœ**:
   - âœ… é¡¶éƒ¨æ˜¾ç¤ºä½“é‡å˜åŒ–è¶‹åŠ¿æŠ˜çº¿å›¾(90å¤©)
   - âœ… å·¦ä¸‹æ˜¾ç¤ºä½“è„‚ç‡å˜åŒ–æŠ˜çº¿å›¾
   - âœ… å³ä¸‹æ˜¾ç¤ºBMIå˜åŒ–æŠ˜çº¿å›¾
   - ğŸ“Š å›¾è¡¨åº”è¯¥æ˜¾ç¤º12æ¡æµ‹è¯•æ•°æ®çš„æ›²çº¿

### æµ‹è¯•æ•°æ®åˆ†æé¡µé¢
1. ç‚¹å‡»å·¦ä¾§èœå•"æ•°æ®åˆ†æ"
2. **é¢„æœŸç»“æœ**:
   - âœ… 4ä¸ªç»Ÿè®¡å¡ç‰‡æ˜¾ç¤ºæ•°æ®
   - âœ… æœˆåº¦è¿åŠ¨ç»Ÿè®¡æŸ±çŠ¶å›¾
   - âœ… è¿åŠ¨ç±»å‹åˆ†å¸ƒé¥¼å›¾

### æµ‹è¯•ä»ªè¡¨ç›˜
1. ç‚¹å‡»å·¦ä¾§èœå•"ä»ªè¡¨ç›˜"
2. **é¢„æœŸç»“æœ**:
   - âœ… è¿åŠ¨è¶‹åŠ¿æŠ˜çº¿å›¾(åŒçº¿:å¡è·¯é‡Œ+æ—¶é•¿)
   - âœ… è¿åŠ¨ç±»å‹é¥¼å›¾
   - âœ… æ‰€æœ‰ç»Ÿè®¡å¡ç‰‡æœ‰æ•°æ®

---

## ğŸ¨ å›¾è¡¨é¢œè‰²æ–¹æ¡ˆ

### ä¸»è‰²è°ƒ
- ä¸»è“è‰²: `#4F46E5` (Indigo)
- æˆåŠŸç»¿: `#10B981` (Emerald)
- è­¦å‘Šæ©™: `#F59E0B` (Amber)
- ä¿¡æ¯é’: `#06B6D4` (Cyan)
- ç´«è‰²: `#8B5CF6` (Violet)
- ç²‰è‰²: `#EC4899` (Pink)

### åŠé€æ˜èƒŒæ™¯
- ä½¿ç”¨ `rgba(R, G, B, 0.1)` ä½œä¸ºå¡«å……è‰²
- è¾¹æ¡†ä½¿ç”¨å®Œå…¨ä¸é€æ˜è‰²

---

## ğŸš¨ æ•…éšœæ’é™¤

### å¦‚æœå›¾è¡¨ä¸æ˜¾ç¤º:
1. **æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°**
   - F12 æ‰“å¼€å¼€å‘è€…å·¥å…·
   - æŸ¥çœ‹Consoleæ ‡ç­¾æ˜¯å¦æœ‰JavaScripté”™è¯¯
   - æŸ¥çœ‹Networkæ ‡ç­¾APIè¯·æ±‚æ˜¯å¦æˆåŠŸ

2. **æ£€æŸ¥APIè¿”å›æ•°æ®**
   - ç›´æ¥è®¿é—®APIç«¯ç‚¹:
     - http://127.0.0.1:8080/analytics/api/body-data-trend?days=90
   - ç¡®è®¤è¿”å›JSONæ ¼å¼æ­£ç¡®

3. **æ£€æŸ¥Chart.jsåŠ è½½**
   - ç¡®è®¤CDNé“¾æ¥å¯è®¿é—®
   - æŸ¥çœ‹Networkæ ‡ç­¾ä¸­Chart.jsæ˜¯å¦åŠ è½½æˆåŠŸ

### å¦‚æœæ•°æ®ä¸ºç©º:
1. **æ£€æŸ¥æµ‹è¯•æ•°æ®**
   - ç¡®è®¤æ•°æ®åº“ä¸­æœ‰èº«ä½“æ•°æ®è®°å½•
   - è¿è¡Œ: `python init_dashboard.py` é‡æ–°åˆå§‹åŒ–æµ‹è¯•æ•°æ®

2. **æ£€æŸ¥ç”¨æˆ·èº«é«˜**
   - BMIè®¡ç®—éœ€è¦ç”¨æˆ·è®¾ç½®èº«é«˜
   - åœ¨"ä¸ªäººèµ„æ–™"é¡µé¢è®¾ç½®èº«é«˜

---

## âœ… ä¿®å¤å®Œæˆæ¸…å•

- âœ… æ·»åŠ  `/analytics/api/body-data-trend` APIç«¯ç‚¹
- âœ… æ·»åŠ  `/analytics/api/monthly-stats` APIç«¯ç‚¹
- âœ… ä½“é‡è¶‹åŠ¿é¡µé¢å¯æ˜¾ç¤º3ä¸ªå›¾è¡¨
- âœ… æ•°æ®åˆ†æé¡µé¢å¯æ˜¾ç¤º2ä¸ªå›¾è¡¨
- âœ… BMIè‡ªåŠ¨è®¡ç®—åŠŸèƒ½
- âœ… æœåŠ¡å™¨æ­£å¸¸è¿è¡Œ

---

**ä¿®å¤æ—¶é—´**: 2025å¹´10æœˆ25æ—¥  
**æœåŠ¡å™¨çŠ¶æ€**: âœ… è¿è¡Œä¸­ (http://127.0.0.1:8080)  
**æµ‹è¯•è´¦å·**: demo / 123456
