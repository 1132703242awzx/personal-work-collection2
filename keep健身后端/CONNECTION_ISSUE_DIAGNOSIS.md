# Keepå¥èº«ä»ªè¡¨ç›˜ - è¿æ¥é—®é¢˜è¯Šæ–­æŠ¥å‘Š

## é—®é¢˜ç°è±¡
æµè§ˆå™¨è®¿é—® http://127.0.0.1:5000 æ˜¾ç¤º: **ERR_CONNECTION_REFUSED**

## å·²æ’æŸ¥é—®é¢˜

### âœ… 1. æ¨¡æ¿é”™è¯¯ - å·²ä¿®å¤
- **é—®é¢˜**: `base.html` ä¸­ `{% block content %}` å®šä¹‰ä¸¤æ¬¡
- **è§£å†³**: å·²ä¿®å¤,æœªç™»å½•ç”¨æˆ·ä½¿ç”¨ `{% block page_content %}`

### âœ… 2. ç¼ºå°‘é”™è¯¯é¡µé¢ - å·²ä¿®å¤  
- **é—®é¢˜**: ç¼ºå°‘ `errors/404.html` å’Œ `errors/500.html`
- **è§£å†³**: å·²åˆ›å»ºé”™è¯¯é¡µé¢æ¨¡æ¿

### âœ… 3. Pythonä¾èµ– - æ­£å¸¸
- **æµ‹è¯•**: `import flask, flask_login, sqlalchemy` - æˆåŠŸ
- **ç»“è®º**: æ‰€æœ‰ä¾èµ–åŒ…æ­£å¸¸å®‰è£…

### âœ… 4. åº”ç”¨åˆ›å»º - æ­£å¸¸
- **æµ‹è¯•**: `from app_dashboard import create_app; create_app()` - æˆåŠŸ
- **ç»“è®º**: åº”ç”¨ä»£ç æ— é”™è¯¯

## âŒ å½“å‰é—®é¢˜: FlaskæœåŠ¡å™¨ç«¯å£æœªç›‘å¬

### ç—‡çŠ¶
1. Flaskæ˜¾ç¤ºå¯åŠ¨æ¶ˆæ¯:
   ```
   * Running on http://127.0.0.1:5000
   * Running on http://192.168.71.161:5000
   ```

2. ä½†æ˜¯:
   - `netstat -ano | findstr :5000` - **æ— ç»“æœ** (ç«¯å£æœªç›‘å¬)
   - `Test-NetConnection -Port 5000` - **å¤±è´¥**
   - æµè§ˆå™¨è®¿é—® - **è¿æ¥è¢«æ‹’ç»**

### å¯èƒ½åŸå› 

#### 1. Windowsé˜²ç«å¢™é˜»æ­¢
**æ£€æŸ¥æ–¹æ³•**:
```powershell
# æŸ¥çœ‹é˜²ç«å¢™è§„åˆ™
Get-NetFirewallRule -DisplayName "*Python*"
netsh advfirewall show allprofiles
```

**ä¸´æ—¶è§£å†³**:
- å…³é—­Windowsé˜²ç«å¢™æµ‹è¯•
- æˆ–æ·»åŠ Python.exeåˆ°å…è®¸åˆ—è¡¨

#### 2. æ€æ¯’è½¯ä»¶æ‹¦æˆª
- **360å®‰å…¨å«å£«**
- **è…¾è®¯ç”µè„‘ç®¡å®¶**
- **Windows Defender**

å¯èƒ½é˜»æ­¢äº†Pythonç¨‹åºç›‘å¬ç½‘ç»œç«¯å£

#### 3. ç«¯å£æƒé™é—®é¢˜
æŸäº›Windowsç³»ç»Ÿéœ€è¦ç®¡ç†å‘˜æƒé™æ‰èƒ½ç›‘å¬1024ä»¥ä¸‹çš„ç«¯å£

**è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨8080ç«¯å£

#### 4. Hyper-V/WSLç«¯å£ä¿ç•™
Windows 10/11çš„Hyper-Vå¯èƒ½ä¿ç•™äº†æŸäº›ç«¯å£

**æ£€æŸ¥æ–¹æ³•**:
```powershell
netsh int ipv4 show excludedportrange protocol=tcp
```

### æµ‹è¯•çš„å¯åŠ¨è„šæœ¬

#### 1. `run_dashboard.py` (åŸå§‹)
```python
app.run(host='0.0.0.0', port=5000, debug=False, use_reloader=False)
```
**ç»“æœ**: æ˜¾ç¤ºå¯åŠ¨,ä½†ç«¯å£æœªç›‘å¬

#### 2. `start_simple.py` (ç®€åŒ–ç‰ˆ)
```python
app.run(host='0.0.0.0', port=5000, debug=False, use_reloader=False, threaded=True)
```
**ç»“æœ**: æ˜¾ç¤ºå¯åŠ¨,ä½†ç«¯å£æœªç›‘å¬

#### 3. `start_port8080.py` (ä½¿ç”¨8080ç«¯å£)
```python
app.run(host='127.0.0.1', port=8080, debug=False, use_reloader=False)
```
**ç»“æœ**: æ˜¾ç¤ºå¯åŠ¨,ä½†ç«¯å£ä»æœªç›‘å¬

## ğŸ” æ·±å±‚åŸå› åˆ†æ

### æ€€ç–‘: Flaskçš„run()æ–¹æ³•åœ¨Windowsä¸Šè¢«æŸç§æœºåˆ¶é˜»æ­¢äº†

å¯èƒ½çš„åŸå› :
1. **å®‰å…¨è½¯ä»¶å®æ—¶ä¿æŠ¤**é˜»æ­¢äº†å¥—æ¥å­—ç»‘å®š
2. **Windowsç½‘ç»œéš”ç¦»**è®¾ç½®
3. **ç”¨æˆ·æƒé™ä¸è¶³**
4. **Python/Flaskç‰ˆæœ¬å…¼å®¹é—®é¢˜**

## ğŸ’¡ å»ºè®®è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ1: ä½¿ç”¨ç®¡ç†å‘˜æƒé™è¿è¡Œ

**æ­¥éª¤**:
1. ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡ŒPowerShell
2. æ‰§è¡Œ:
   ```powershell
   cd D:\keepå¥èº«åç«¯
   .\venv\Scripts\python.exe start_port8080.py
   ```

### æ–¹æ¡ˆ2: ä½¿ç”¨waitress WSGIæœåŠ¡å™¨(æ¨è)

**åŸå› **: waitressåœ¨Windowsä¸Šæ›´ç¨³å®š,ä¸ä¼šè¢«å®‰å…¨è½¯ä»¶æ‹¦æˆª

**å®‰è£…**:
```powershell
.\venv\Scripts\pip.exe install waitress
```

**å¯åŠ¨è„šæœ¬** (`start_waitress.py`):
```python
from waitress import serve
from app_dashboard import create_app

app = create_app()
print("Keepå¥èº«ä»ªè¡¨ç›˜å¯åŠ¨åœ¨ http://127.0.0.1:8080")
serve(app, host='127.0.0.1', port=8080)
```

### æ–¹æ¡ˆ3: ä¸´æ—¶å…³é—­é˜²ç«å¢™/æ€æ¯’è½¯ä»¶æµ‹è¯•

**æ­¥éª¤**:
1. ä¸´æ—¶å…³é—­Windows Defender
2. å…³é—­360/ç”µè„‘ç®¡å®¶ç­‰
3. é‡æ–°å¯åŠ¨Flask
4. æµ‹è¯•æ˜¯å¦èƒ½è®¿é—®

å¦‚æœå¯ä»¥è®¿é—®,è¯´æ˜æ˜¯å®‰å…¨è½¯ä»¶é—®é¢˜,éœ€è¦æ·»åŠ ä¾‹å¤–è§„åˆ™

### æ–¹æ¡ˆ4: ä½¿ç”¨Docker(æœ€å½»åº•)

**ä¼˜ç‚¹**: å®Œå…¨éš”ç¦»ç¯å¢ƒ,ä¸å—Windowsé™åˆ¶

**Dockerfile**:
```dockerfile
FROM python:3.9-slim
WORKDIR /app
COPY requirements_dashboard.txt .
RUN pip install -r requirements_dashboard.txt
COPY . .
CMD ["python", "run_dashboard.py"]
```

## ğŸ“‹ ä¸‹ä¸€æ­¥å»ºè®®

### ç«‹å³å°è¯•:
1. **ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡ŒPowerShell**,é‡æ–°å¯åŠ¨æœåŠ¡å™¨
2. **å®‰è£…waitress**å¹¶ä½¿ç”¨å®ƒå¯åŠ¨
3. **æ£€æŸ¥æ˜¯å¦æœ‰æ€æ¯’è½¯ä»¶æ‹¦æˆª**

### å¦‚æœä»ç„¶å¤±è´¥:
1. æ£€æŸ¥Windowsäº‹ä»¶æŸ¥çœ‹å™¨ä¸­çš„é”™è¯¯æ—¥å¿—
2. å°è¯•ä½¿ç”¨Pythonçš„http.serveræµ‹è¯•ç«¯å£:
   ```powershell
   python -m http.server 8080
   ```
   å¦‚æœhttp.serverä¹Ÿæ— æ³•è®¿é—®,è¯´æ˜æ˜¯ç³»ç»Ÿçº§åˆ«çš„ç½‘ç»œé—®é¢˜

3. æ£€æŸ¥ç½‘ç»œé€‚é…å™¨è®¾ç½®

---

**æ›´æ–°æ—¶é—´**: 2025-10-25
**çŠ¶æ€**: ğŸ”´ å¾…è§£å†³ - Flaskæ˜¾ç¤ºå¯åŠ¨ä½†ç«¯å£æœªçœŸæ­£ç›‘å¬
**ä¸‹ä¸€æ­¥**: å°è¯•waitressæˆ–ç®¡ç†å‘˜æƒé™
