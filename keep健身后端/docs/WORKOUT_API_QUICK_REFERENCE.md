# è¿åŠ¨è®°å½•APIé€ŸæŸ¥è¡¨ ğŸ‹ï¸

## ğŸ“‹ æ¥å£æ¸…å•

### åŸºç¡€æ“ä½œ
| æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|
| POST | `/api/workouts` | åˆ›å»ºè®­ç»ƒè®°å½• |
| GET | `/api/workouts` | è·å–è®­ç»ƒåˆ—è¡¨ |
| GET | `/api/workouts/{id}` | è·å–è®­ç»ƒè¯¦æƒ… |
| PUT | `/api/workouts/{id}` | æ›´æ–°è®­ç»ƒè®°å½• |
| DELETE | `/api/workouts/{id}` | åˆ é™¤è®­ç»ƒè®°å½• |
| POST | `/api/workouts/{id}/finish` | å®Œæˆè®­ç»ƒ |

### è®­ç»ƒç»„æ“ä½œ
| æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|
| POST | `/api/workouts/{id}/sets` | æ·»åŠ è®­ç»ƒç»„ |
| PUT | `/api/sets/{id}` | æ›´æ–°è®­ç»ƒç»„ |
| DELETE | `/api/sets/{id}` | åˆ é™¤è®­ç»ƒç»„ |

### æŸ¥è¯¢åŠŸèƒ½
| æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|
| GET | `/api/workouts/calendar` | è·å–è®­ç»ƒæ—¥å† |
| GET | `/api/workouts/records` | è·å–ä¸ªäººæœ€ä½³è®°å½• |

### ç»Ÿè®¡åŠŸèƒ½
| æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|
| GET | `/api/stats/overview` | ç»Ÿè®¡æ€»è§ˆ |
| GET | `/api/stats/weekly` | å‘¨ç»Ÿè®¡ |
| GET | `/api/stats/monthly` | æœˆç»Ÿè®¡ |
| GET | `/api/stats/muscle-distribution` | è‚Œç¾¤åˆ†å¸ƒ |
| GET | `/api/stats/workout-types` | è®­ç»ƒç±»å‹åˆ†å¸ƒ |
| GET | `/api/stats/progress` | è¿›æ­¥è¶‹åŠ¿ |
| GET | `/api/stats/consistency` | åšæŒåº¦è¯„åˆ† |

---

## ğŸ”¥ å¿«é€Ÿä½¿ç”¨

### 1. åˆ›å»ºè®­ç»ƒè®°å½•

```bash
POST /api/workouts
Authorization: Bearer {token}

{
  "workout_date": "2024-01-20",
  "workout_type": "åŠ›é‡è®­ç»ƒ",
  "plan_id": 1,
  "exercises": [
    {
      "exercise_name": "æ·±è¹²",
      "muscle_group": "è…¿éƒ¨",
      "sets": [
        {
          "set_number": 1,
          "set_type": "normal",
          "reps": 10,
          "weight": 80.0
        }
      ]
    }
  ]
}
```

### 2. è·å–è®­ç»ƒåˆ—è¡¨ï¼ˆå¸¦ç­›é€‰ï¼‰

```bash
GET /api/workouts?start_date=2024-01-01&end_date=2024-01-31&workout_type=åŠ›é‡è®­ç»ƒ
Authorization: Bearer {token}
```

### 3. å®Œæˆè®­ç»ƒ

```bash
POST /api/workouts/1/finish
Authorization: Bearer {token}

{
  "notes": "ä»Šå¤©çŠ¶æ€å¾ˆå¥½!"
}
```

### 4. æ·»åŠ è®­ç»ƒç»„

```bash
POST /api/workouts/1/sets
Authorization: Bearer {token}

{
  "exercise_id": 1,
  "set_number": 2,
  "set_type": "normal",
  "reps": 12,
  "weight": 85.0
}
```

### 5. è·å–ä¸ªäººæœ€ä½³è®°å½•

```bash
GET /api/workouts/records?exercise_name=æ·±è¹²
Authorization: Bearer {token}
```

### 6. è·å–è®­ç»ƒæ—¥å†

```bash
GET /api/workouts/calendar?year=2024&month=1
Authorization: Bearer {token}
```

### 7. è·å–ç»Ÿè®¡æ€»è§ˆ

```bash
GET /api/stats/overview?start_date=2024-01-01&end_date=2024-01-31
Authorization: Bearer {token}
```

### 8. è·å–åšæŒåº¦è¯„åˆ†

```bash
GET /api/stats/consistency
Authorization: Bearer {token}
```

---

## ğŸ“Š æ•°æ®æ¨¡å‹

### è®­ç»ƒç»„ç±»å‹ï¼ˆSetTypeï¼‰
- `normal`: æ­£å¸¸ç»„
- `warmup`: çƒ­èº«ç»„
- `drop`: é€’å‡ç»„
- `super`: è¶…çº§ç»„

### è®­ç»ƒç±»å‹ï¼ˆWorkoutTypeï¼‰
- `åŠ›é‡è®­ç»ƒ`: åŠ›é‡/æŠ—é˜»è®­ç»ƒ
- `æœ‰æ°§è®­ç»ƒ`: è·‘æ­¥ã€æ¸¸æ³³ç­‰
- `æ··åˆè®­ç»ƒ`: ç»„åˆè®­ç»ƒ

### è‚Œç¾¤ç±»å‹ï¼ˆMuscleGroupï¼‰
èƒ¸éƒ¨ã€èƒŒéƒ¨ã€è…¿éƒ¨ã€è‚©éƒ¨ã€æ‰‹è‡‚ã€æ ¸å¿ƒã€å…¨èº«

---

## âš¡ é«˜çº§åŠŸèƒ½

### æ‰¹é‡åˆ›å»ºï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰
ç³»ç»Ÿè‡ªåŠ¨ä½¿ç”¨æ‰¹é‡æ’å…¥ä¼˜åŒ–,å•æ¬¡å¯åˆ›å»ºåŒ…å«å¤šä¸ªåŠ¨ä½œå’Œå¤šä¸ªè®­ç»ƒç»„çš„å®Œæ•´è®­ç»ƒè®°å½•ã€‚

### è‡ªåŠ¨ç»Ÿè®¡
å®Œæˆè®­ç»ƒæ—¶è‡ªåŠ¨è®¡ç®—:
- æ€»ç»„æ•°
- æ€»æ¬¡æ•°
- æ€»é‡é‡
- å¡è·¯é‡Œæ¶ˆè€—

### ä¸ªäººè®°å½•è¿½è¸ª
ç³»ç»Ÿè‡ªåŠ¨æ£€æµ‹å¹¶æ ‡è®°ä¸ªäººæœ€ä½³è®°å½•ï¼ˆPRï¼‰:
- æœ€å¤§é‡é‡
- æœ€å¤šæ¬¡æ•°
- æœ€é«˜æ€»é‡

### è¿›åº¦è·Ÿè¸ª
å®Œæˆè®­ç»ƒåè‡ªåŠ¨æ›´æ–°å…³è”è®­ç»ƒè®¡åˆ’çš„è¿›åº¦ã€‚

---

## ğŸ¯ æŸ¥è¯¢å‚æ•°

### è®­ç»ƒåˆ—è¡¨æŸ¥è¯¢
- `start_date`: å¼€å§‹æ—¥æœŸ (YYYY-MM-DD)
- `end_date`: ç»“æŸæ—¥æœŸ (YYYY-MM-DD)
- `workout_type`: è®­ç»ƒç±»å‹
- `plan_id`: è®­ç»ƒè®¡åˆ’ID
- `is_completed`: æ˜¯å¦å®Œæˆ (true/false)
- `page`: é¡µç  (é»˜è®¤: 1)
- `per_page`: æ¯é¡µæ•°é‡ (é»˜è®¤: 20)

### æ—¥å†æŸ¥è¯¢
- `year`: å¹´ä»½ (é»˜è®¤: å½“å‰å¹´)
- `month`: æœˆä»½ (é»˜è®¤: å½“å‰æœˆ)

### ç»Ÿè®¡æŸ¥è¯¢
- `start_date`: å¼€å§‹æ—¥æœŸ
- `end_date`: ç»“æŸæ—¥æœŸ

### è¿›æ­¥è¶‹åŠ¿
- `exercise_name`: åŠ¨ä½œåç§° (å¯é€‰)
- `period`: ç»Ÿè®¡å‘¨æœŸ (week/month/year)

---

## ğŸ’¡ æœ€ä½³å®è·µ

1. **è®­ç»ƒä¸­å®æ—¶è®°å½•**: æ¯å®Œæˆä¸€ç»„ç«‹å³è°ƒç”¨æ·»åŠ è®­ç»ƒç»„API
2. **è®­ç»ƒç»“æŸæ—¶å®Œæˆ**: è°ƒç”¨å®Œæˆè®­ç»ƒAPIè§¦å‘è‡ªåŠ¨ç»Ÿè®¡
3. **å®šæœŸæŸ¥çœ‹ç»Ÿè®¡**: ä½¿ç”¨ç»Ÿè®¡APIäº†è§£è®­ç»ƒè¿›å±•
4. **å…³æ³¨ä¸ªäººè®°å½•**: è¿½è¸ªPRæ¿€åŠ±æŒç»­è¿›æ­¥
5. **åˆ©ç”¨æ—¥å†è§†å›¾**: å¯è§†åŒ–è®­ç»ƒé¢‘ç‡

---

## ğŸ”’ è®¤è¯è¯´æ˜

æ‰€æœ‰æ¥å£éƒ½éœ€è¦JWTè®¤è¯ï¼Œè¯·åœ¨è¯·æ±‚å¤´ä¸­æ·»åŠ :
```
Authorization: Bearer {your_jwt_token}
```

---

## ğŸ“ å“åº”æ ¼å¼

### æˆåŠŸå“åº”
```json
{
  "code": 0,
  "message": "æ“ä½œæˆåŠŸ",
  "data": { /* è¿”å›æ•°æ® */ }
}
```

### é”™è¯¯å“åº”
```json
{
  "code": 400,
  "message": "æ•°æ®éªŒè¯å¤±è´¥",
  "errors": [ /* é”™è¯¯è¯¦æƒ… */ ]
}
```

---

**æç¤º**: æ›´å¤šè¯¦ç»†æ–‡æ¡£è¯·å‚è€ƒ `WORKOUT_API.md`
