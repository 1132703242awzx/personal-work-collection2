<view class="scripts-page data-v-853bf1d0"><view class="search-bar data-v-853bf1d0"><view class="search-input-wrap data-v-853bf1d0"><input class="search-input data-v-853bf1d0" placeholder="æœç´¢å‰§æœ¬åç§°æˆ–ç±»å‹" data-event-opts="{{[['input',[['__set_model',['','searchKeyword','$event',[]]],['onSearchInput',['$event']]]],['confirm',[['onSearchConfirm',['$event']]]]]}}" value="{{searchKeyword}}" bindinput="__e" bindconfirm="__e"/><text class="search-icon data-v-853bf1d0">ğŸ”</text></view><view data-event-opts="{{[['tap',[['onSearchConfirm',['$event']]]]]}}" class="search-btn data-v-853bf1d0" bindtap="__e"><text class="data-v-853bf1d0">æœç´¢</text></view></view><view class="category-tabs data-v-853bf1d0"><scroll-view class="category-scroll data-v-853bf1d0" scroll-x="true"><block wx:for="{{categoryList}}" wx:for-item="category" wx:for-index="__i0__" wx:key="key"><view data-event-opts="{{[['tap',[['handleCategoryChange',['$0'],[[['categoryList','key',category.key,'key']]]]]]]}}" class="{{['category-item','data-v-853bf1d0',(activeCategory===category.key)?'active':'']}}" bindtap="__e"><text class="data-v-853bf1d0">{{category.name}}</text></view></block></scroll-view></view><view class="sort-toolbar data-v-853bf1d0"><view class="sort-options data-v-853bf1d0"><view data-event-opts="{{[['tap',[['handleSortChange',['default']]]]]}}" class="{{['sort-item','data-v-853bf1d0',(sortType==='default')?'active':'']}}" bindtap="__e"><text class="data-v-853bf1d0">ç»¼åˆ</text></view><view data-event-opts="{{[['tap',[['handleSortChange',['price']]]]]}}" class="{{['sort-item','data-v-853bf1d0',(sortType==='price')?'active':'']}}" bindtap="__e"><text class="data-v-853bf1d0">{{"ä»·æ ¼ "+(sortType==='price'?sortOrder==='asc'?'â†‘':'â†“':'')}}</text></view><view data-event-opts="{{[['tap',[['handleSortChange',['rating']]]]]}}" class="{{['sort-item','data-v-853bf1d0',(sortType==='rating')?'active':'']}}" bindtap="__e"><text class="data-v-853bf1d0">{{"è¯„åˆ† "+(sortType==='rating'?sortOrder==='asc'?'â†‘':'â†“':'')}}</text></view><view data-event-opts="{{[['tap',[['handleSortChange',['playerCount']]]]]}}" class="{{['sort-item','data-v-853bf1d0',(sortType==='playerCount')?'active':'']}}" bindtap="__e"><text class="data-v-853bf1d0">{{"äººæ•° "+(sortType==='playerCount'?sortOrder==='asc'?'â†‘':'â†“':'')}}</text></view></view><view class="result-count data-v-853bf1d0"><text class="data-v-853bf1d0">{{"å…±"+$root.g0+"ä¸ªå‰§æœ¬"}}</text></view></view><view class="scripts-container data-v-853bf1d0"><block wx:if="{{isRefreshing}}"><view class="refresh-tip data-v-853bf1d0"><text class="data-v-853bf1d0">æ­£åœ¨åˆ·æ–°...</text></view></block><view class="scripts-grid data-v-853bf1d0"><block wx:for="{{$root.l1}}" wx:for-item="script" wx:for-index="__i1__" wx:key="id"><view data-event-opts="{{[['tap',[['handleScriptTap',['$0'],[[['displayScriptList','id',script.$orig.id]]]]]]]}}" class="script-card data-v-853bf1d0" bindtap="__e"><view class="script-cover data-v-853bf1d0"><image class="cover-image data-v-853bf1d0" src="{{script.$orig.coverImage}}" mode="aspectFill" lazy-load="{{true}}"></image><view class="cover-overlay data-v-853bf1d0"></view><block wx:if="{{script.$orig.isHot}}"><view class="hot-badge data-v-853bf1d0"><text class="data-v-853bf1d0">HOT</text></view></block><view class="{{['difficulty-badge','data-v-853bf1d0',script.$orig.difficulty==='ç®€å•'?'easy':script.$orig.difficulty==='ä¸­ç­‰'?'medium':'hard']}}"><text class="data-v-853bf1d0">{{script.$orig.difficulty}}</text></view></view><view class="script-info data-v-853bf1d0"><text class="script-title data-v-853bf1d0">{{script.$orig.title}}</text><view class="script-tags data-v-853bf1d0"><block wx:for="{{script.l0}}" wx:for-item="tag" wx:for-index="__i2__" wx:key="*this"><text class="tag-item data-v-853bf1d0">{{tag}}</text></block></view><text class="script-description data-v-853bf1d0">{{script.$orig.description}}</text><view class="script-meta data-v-853bf1d0"><view class="meta-item data-v-853bf1d0"><text class="data-v-853bf1d0">ğŸ‘¥</text><text class="data-v-853bf1d0">{{script.$orig.playerCount+"äºº"}}</text></view><view class="meta-item data-v-853bf1d0"><text class="data-v-853bf1d0">â±</text><text class="data-v-853bf1d0">{{script.$orig.duration+"h"}}</text></view></view><view class="script-bottom data-v-853bf1d0"><view class="script-price data-v-853bf1d0"><text class="data-v-853bf1d0">{{"Â¥"+script.$orig.price}}</text><text class="price-unit data-v-853bf1d0">/äºº</text></view><view class="script-rating data-v-853bf1d0"><text class="rating-stars data-v-853bf1d0">â­</text><text class="rating-score data-v-853bf1d0">{{script.$orig.rating}}</text></view></view><block wx:if="{{script.$orig.availableSessions>0}}"><view class="available-sessions data-v-853bf1d0"><text class="data-v-853bf1d0">{{"ä»Šæ—¥"+script.$orig.availableSessions+"åœºå¯çº¦"}}</text></view></block></view></view></block></view><block wx:if="{{isLoading}}"><view class="loading-container data-v-853bf1d0"><text class="loading-text data-v-853bf1d0">æ­£åœ¨åŠ è½½...</text></view></block><block wx:if="{{hasMoreData&&!isLoading}}"><view class="load-more-container data-v-853bf1d0"><block wx:if="{{isLoadingMore}}"><view class="data-v-853bf1d0"><text class="load-more-text data-v-853bf1d0">æ­£åœ¨åŠ è½½æ›´å¤š...</text></view></block><block wx:else><view data-event-opts="{{[['tap',[['loadMoreScripts',['$event']]]]]}}" bindtap="__e" class="data-v-853bf1d0"><text class="load-more-text data-v-853bf1d0">ç‚¹å‡»åŠ è½½æ›´å¤š</text></view></block></view></block><block wx:if="{{$root.g1}}"><view class="load-more-container data-v-853bf1d0"><text class="load-more-text data-v-853bf1d0">å·²åŠ è½½å…¨éƒ¨å‰§æœ¬</text></view></block><block wx:if="{{$root.g2}}"><view class="empty-container data-v-853bf1d0"><text class="empty-icon data-v-853bf1d0">ğŸ“š</text><text class="empty-title data-v-853bf1d0">æš‚æ— ç¬¦åˆæ¡ä»¶çš„å‰§æœ¬</text><text class="empty-description data-v-853bf1d0">å°è¯•è°ƒæ•´ç­›é€‰æ¡ä»¶æˆ–é‡æ–°æœç´¢</text><button data-event-opts="{{[['tap',[['resetFilters',['$event']]]]]}}" class="reset-button data-v-853bf1d0" bindtap="__e"><text class="data-v-853bf1d0">é‡ç½®ç­›é€‰æ¡ä»¶</text></button></view></block></view></view>