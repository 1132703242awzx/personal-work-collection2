<view class="page data-v-53b51f20"><block wx:if="{{!selectedScript}}"><view class="script-section data-v-53b51f20"><view class="section-title data-v-53b51f20"><text class="title-text data-v-53b51f20">ğŸ“š é€‰æ‹©å‰§æœ¬</text></view><view class="scripts-list data-v-53b51f20"><block wx:for="{{scripts}}" wx:for-item="script" wx:for-index="__i0__" wx:key="id"><view data-event-opts="{{[['tap',[['selectScript',['$0'],[[['scripts','id',script.id]]]]]]]}}" class="script-item data-v-53b51f20" bindtap="__e"><image class="script-cover data-v-53b51f20" src="{{script.cover}}"></image><view class="script-info data-v-53b51f20"><text class="script-name data-v-53b51f20">{{script.name}}</text><view class="script-meta data-v-53b51f20"><text class="meta-text data-v-53b51f20">{{script.playerCount+"äºº Â· "+script.duration+"å°æ—¶ Â· Â¥"+script.price+"/äºº"}}</text></view><view class="script-tags data-v-53b51f20"><block wx:for="{{script.tags}}" wx:for-item="tag" wx:for-index="__i1__" wx:key="*this"><text class="tag data-v-53b51f20">{{tag}}</text></block></view></view><view class="select-icon data-v-53b51f20">></view></view></block></view></view></block><block wx:if="{{selectedScript}}"><view class="selected-script data-v-53b51f20"><view class="script-card data-v-53b51f20"><image class="script-cover data-v-53b51f20" src="{{selectedScript.cover}}"></image><view class="script-info data-v-53b51f20"><text class="script-name data-v-53b51f20">{{selectedScript.name}}</text><view class="script-meta data-v-53b51f20"><text class="meta-text data-v-53b51f20">{{selectedScript.playerCount+"äºº Â· "+selectedScript.duration+"å°æ—¶ Â· Â¥"+selectedScript.price+"/äºº"}}</text></view></view><view data-event-opts="{{[['tap',[['changeScript',['$event']]]]]}}" class="change-script data-v-53b51f20" bindtap="__e"><text class="data-v-53b51f20">æ›´æ¢</text></view></view></view></block><block wx:if="{{selectedScript}}"><view class="date-section data-v-53b51f20"><view class="section-title data-v-53b51f20"><text class="title-text data-v-53b51f20">ğŸ“… é€‰æ‹©æ—¥æœŸ</text></view><scroll-view class="date-scroll data-v-53b51f20" scroll-x="true"><view class="date-list data-v-53b51f20"><block wx:for="{{availableDates}}" wx:for-item="date" wx:for-index="__i2__" wx:key="dateString"><view data-event-opts="{{[['tap',[['selectDate',['$0'],[[['availableDates','dateString',date.dateString,'dateString']]]]]]]}}" class="{{['date-item','data-v-53b51f20',(selectedDate===date.dateString)?'active':'']}}" bindtap="__e"><text class="date-weekday data-v-53b51f20">{{date.weekday}}</text><text class="date-day data-v-53b51f20">{{date.day}}</text><text class="date-month data-v-53b51f20">{{date.month}}</text></view></block></view></scroll-view></view></block><block wx:if="{{selectedDate}}"><view class="sessions-section data-v-53b51f20"><view class="section-title data-v-53b51f20"><text class="title-text data-v-53b51f20">â° é€‰æ‹©åœºæ¬¡</text></view><view class="sessions-list data-v-53b51f20"><block wx:for="{{availableSessions}}" wx:for-item="session" wx:for-index="__i3__" wx:key="id"><view data-event-opts="{{[['tap',[['selectSession',['$0'],[[['availableSessions','id',session.id]]]]]]]}}" class="{{['session-item','data-v-53b51f20',(selectedSession&&selectedSession.id===session.id)?'active':'',(session.currentPlayers>=session.maxPlayers)?'disabled':'']}}" bindtap="__e"><view class="session-time data-v-53b51f20"><text class="time-text data-v-53b51f20">{{session.startTime}}</text><text class="time-period data-v-53b51f20">{{session.period}}</text></view><view class="session-info data-v-53b51f20"><text class="session-players data-v-53b51f20">{{session.currentPlayers+"/"+session.maxPlayers+"äºº"}}</text><text class="{{['session-status','data-v-53b51f20',(session.currentPlayers>=session.maxPlayers)?'full':'']}}">{{''+(session.currentPlayers>=session.maxPlayers?'å·²æ»¡':'å¯çº¦')+''}}</text></view><view class="session-price data-v-53b51f20"><text class="data-v-53b51f20">{{"Â¥"+session.price}}</text></view></view></block></view></view></block><block wx:if="{{selectedSession}}"><view class="contact-section data-v-53b51f20"><view class="section-title data-v-53b51f20"><text class="title-text data-v-53b51f20">ğŸ“ è”ç³»æ–¹å¼</text></view><view class="form-item data-v-53b51f20"><text class="form-label data-v-53b51f20">å§“å</text><input class="form-input data-v-53b51f20" placeholder="è¯·è¾“å…¥æ‚¨çš„å§“å" data-event-opts="{{[['input',[['__set_model',['$0','name','$event',[]],['contactInfo']]]]]}}" value="{{contactInfo.name}}" bindinput="__e"/></view><view class="form-item data-v-53b51f20"><text class="form-label data-v-53b51f20">æ‰‹æœºå·</text><input class="form-input data-v-53b51f20" placeholder="è¯·è¾“å…¥æ‰‹æœºå·ç " type="number" data-event-opts="{{[['input',[['__set_model',['$0','phone','$event',[]],['contactInfo']]]]]}}" value="{{contactInfo.phone}}" bindinput="__e"/></view><view class="form-item data-v-53b51f20"><text class="form-label data-v-53b51f20">å¤‡æ³¨</text><textarea class="form-textarea data-v-53b51f20" placeholder="æœ‰ä»€ä¹ˆç‰¹æ®Šè¦æ±‚å¯ä»¥åœ¨è¿™é‡Œè¯´æ˜ï¼ˆé€‰å¡«ï¼‰" data-event-opts="{{[['input',[['__set_model',['$0','note','$event',[]],['contactInfo']]]]]}}" value="{{contactInfo.note}}" bindinput="__e"></textarea></view></view></block><block wx:if="{{selectedSession}}"><view class="notice-section data-v-53b51f20"><view class="section-title data-v-53b51f20"><text class="title-text data-v-53b51f20">ğŸ“‹ é¢„çº¦é¡»çŸ¥</text></view><view class="notice-content data-v-53b51f20"><view class="notice-item data-v-53b51f20"><text class="notice-text data-v-53b51f20">â€¢ è¯·æå‰15åˆ†é’Ÿåˆ°åº—ï¼Œå‡†å¤‡èº«ä»½è¯ä»¶</text></view><view class="notice-item data-v-53b51f20"><text class="notice-text data-v-53b51f20">â€¢ æ¸¸æˆè¿‡ç¨‹ä¸­è¯·å…³é—­æ‰‹æœºæˆ–è°ƒè‡³é™éŸ³</text></view><view class="notice-item data-v-53b51f20"><text class="notice-text data-v-53b51f20">â€¢ å¦‚éœ€å–æ¶ˆé¢„çº¦ï¼Œè¯·æå‰2å°æ—¶è”ç³»å®¢æœ</text></view><view class="notice-item data-v-53b51f20"><text class="notice-text data-v-53b51f20">â€¢ è¿Ÿåˆ°è¶…è¿‡30åˆ†é’Ÿå°†è§†ä¸ºè‡ªåŠ¨å–æ¶ˆ</text></view></view></view></block><block wx:if="{{selectedSession}}"><view class="price-section data-v-53b51f20"><view class="section-title data-v-53b51f20"><text class="title-text data-v-53b51f20">ğŸ’° ä»·æ ¼æ˜ç»†</text></view><view class="price-detail data-v-53b51f20"><view class="price-row data-v-53b51f20"><text class="price-label data-v-53b51f20">å‰§æœ¬è´¹ç”¨</text><text class="price-value data-v-53b51f20">{{"Â¥"+selectedSession.price+"/äºº"}}</text></view><view class="price-row data-v-53b51f20"><text class="price-label data-v-53b51f20">é¢„çº¦äººæ•°</text><view class="player-count data-v-53b51f20"><view data-event-opts="{{[['tap',[['decreaseCount',['$event']]]]]}}" class="count-btn data-v-53b51f20" bindtap="__e">-</view><text class="count-text data-v-53b51f20">{{playerCount}}</text><view data-event-opts="{{[['tap',[['increaseCount',['$event']]]]]}}" class="count-btn data-v-53b51f20" bindtap="__e">+</view></view></view><view class="price-row total data-v-53b51f20"><text class="price-label data-v-53b51f20">æ€»è®¡</text><text class="price-value total-price data-v-53b51f20">{{"Â¥"+totalPrice}}</text></view></view></view></block><block wx:if="{{selectedSession}}"><view class="bottom-bar data-v-53b51f20"><view class="total-info data-v-53b51f20"><text class="total-text data-v-53b51f20">{{"æ€»è®¡ï¼šÂ¥"+totalPrice}}</text></view><view data-event-opts="{{[['tap',[['confirmReservation',['$event']]]]]}}" class="confirm-btn data-v-53b51f20" bindtap="__e"><text class="data-v-53b51f20">ç¡®è®¤é¢„çº¦</text></view></view></block></view>