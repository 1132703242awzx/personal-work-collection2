# 🧪 AI 分析功能测试示例

## 测试用例

### 1. 简单项目 - 个人博客

**复杂度预期**: `simple` (2-3分)

```json
{
  "projectName": "个人技术博客",
  "description": "一个简洁的个人技术博客,用于分享技术文章和学习笔记",
  "category": "博客",
  "targetPlatform": ["Web"],
  "features": [
    "文章发布和编辑",
    "Markdown 支持",
    "代码高亮",
    "评论系统",
    "标签分类"
  ]
}
```

**预期结果**:
- 复杂度: simple
- 推荐前端: React 18 + Vite
- 推荐状态管理: Context API
- 推荐部署: Vercel/Netlify
- 开发周期: 4-6周
- 团队规模: 2-3人

---

### 2. 中等项目 - 电商平台

**复杂度预期**: `moderate` (5-6分)

```json
{
  "projectName": "小型电商平台",
  "description": "面向中小型商家的电商平台,支持商品管理、订单处理和在线支付",
  "category": "电商",
  "targetPlatform": ["Web", "移动端"],
  "features": [
    "用户注册和登录",
    "商品浏览和搜索",
    "购物车管理",
    "在线支付",
    "订单管理",
    "商家后台",
    "商品评价"
  ],
  "userStory": "用户可以浏览商品、添加到购物车、下单支付,商家可以管理商品和订单",
  "technicalConstraints": "需要支持微信支付和支付宝"
}
```

**预期结果**:
- 复杂度: moderate
- 推荐前端: React 18 + TypeScript + Vite
- 推荐状态管理: Zustand
- 推荐UI: Ant Design Mobile
- 推荐后端: Express.js / Fastify
- 推荐数据库: PostgreSQL
- 推荐缓存: Redis
- 开发周期: 6-10周
- 团队规模: 5-6人

---

### 3. 复杂项目 - 企业协作平台

**复杂度预期**: `complex` (7-9分)

```json
{
  "projectName": "企业知识管理系统",
  "description": "为企业提供知识库管理、文档协作、智能搜索和数据分析功能的综合平台",
  "category": "企业应用",
  "targetPlatform": ["Web", "移动端", "桌面端"],
  "features": [
    "用户权限管理",
    "文档在线编辑",
    "全文搜索",
    "版本控制",
    "评论和协作",
    "知识图谱",
    "智能推荐",
    "数据统计分析",
    "团队管理",
    "消息通知"
  ],
  "userStory": "员工可以创建、编辑和分享知识文档,进行实时协作,管理员可以管理权限和查看统计数据",
  "technicalConstraints": "需要支持大文件上传、实时协作编辑、支持 10000+ 用户并发"
}
```

**预期结果**:
- 复杂度: complex
- 推荐前端: React 18 + TypeScript + Vite
- 推荐状态管理: Redux Toolkit + RTK Query
- 推荐UI: Ant Design
- 推荐后端: NestJS + TypeScript
- 推荐数据库: PostgreSQL
- 推荐缓存: Redis
- 推荐搜索: Elasticsearch
- 推荐实时: Socket.io
- 推荐文件存储: AWS S3 / 阿里云 OSS
- 开发周期: 10-16周
- 团队规模: 7-8人

---

### 4. 企业级项目 - 金融交易系统

**复杂度预期**: `enterprise` (10-12分)

```json
{
  "projectName": "数字资产交易平台",
  "description": "企业级数字资产交易平台,支持多币种交易、实时行情、风控系统和合规管理",
  "category": "金融",
  "targetPlatform": ["Web", "移动端", "API"],
  "features": [
    "用户KYC认证",
    "实时行情展示",
    "限价和市价交易",
    "资产管理",
    "交易历史",
    "充值和提现",
    "风控系统",
    "实时推送",
    "多语言支持",
    "API接口",
    "管理后台",
    "报表系统",
    "审计日志",
    "风险预警"
  ],
  "userStory": "用户完成KYC认证后可以进行数字资产交易,平台提供实时行情、风控监控和合规管理",
  "technicalConstraints": "必须支持高并发(50000+ TPS)、低延迟(< 100ms)、高可用(99.99%)、数据加密、审计合规"
}
```

**预期结果**:
- 复杂度: enterprise
- 推荐前端: React 18 + TypeScript + Vite
- 推荐状态管理: Redux Toolkit + RTK Query
- 推荐UI: Ant Design
- 推荐后端: NestJS + TypeScript (微服务架构)
- 推荐数据库: PostgreSQL (主库) + TimescaleDB (时序数据)
- 推荐缓存: Redis Cluster
- 推荐消息队列: Kafka
- 推荐实时: WebSocket
- 推荐监控: Prometheus + Grafana
- 推荐日志: ELK Stack
- 推荐容器化: Docker + Kubernetes
- 开发周期: 16-24周
- 团队规模: 15-20人

---

## 验证步骤

### 1. 基础功能验证

1. 打开应用: http://localhost:3000
2. 填写项目信息（使用上面的测试用例）
3. 点击"开始分析"按钮
4. 等待 1-2 秒
5. 查看分析结果

**检查点**:
- ✅ 表单输入正常
- ✅ 提交后显示加载动画
- ✅ 1-2秒后显示结果
- ✅ 结果包含 4 个部分（AI 提示词、技术栈、开发建议、额外建议）

### 2. AI 提示词验证

**检查点**:
- ✅ 包含项目概述（名称、类型、复杂度）
- ✅ 包含详细描述
- ✅ 包含目标平台列表
- ✅ 包含核心功能列表
- ✅ 包含复杂度分析因素
- ✅ 包含详细的分析要求（5个方面）
- ✅ 复制按钮功能正常

### 3. 技术栈推荐验证

**简单项目应该包含**:
- 前端框架: React 18 + Vite
- 状态管理: Context API (推荐)
- 部署: Vercel/Netlify

**复杂项目应该包含**:
- 前端框架: React 18 + TypeScript + Vite
- 状态管理: Redux Toolkit + RTK Query
- UI 组件库: Ant Design
- 后端框架: NestJS + TypeScript
- 数据库: PostgreSQL
- 缓存: Redis
- 实时通信: Socket.io (如果有实时功能)
- 搜索: Elasticsearch (如果有搜索功能)
- 容器化: Docker (复杂及以上)
- CI/CD: GitHub Actions
- 监控: Prometheus + Grafana (企业级)

**检查点**:
- ✅ 技术栈按类别分组
- ✅ 每个技术包含名称、版本、理由、优先级
- ✅ 优先级显示正确（必需/推荐/可选）
- ✅ 推荐的技术与项目复杂度匹配

### 4. 开发建议验证

**检查点**:
- ✅ 包含 6 个开发阶段
- ✅ 每个阶段有清晰的标题和图标
- ✅ 每个阶段包含详细的任务列表
- ✅ 每个阶段有时间估算
- ✅ 每个阶段有团队配置建议
- ✅ 复杂项目的任务更详细

### 5. 额外建议验证

**应该包含的建议类型**:
- ✅ 开发方法（敏捷开发）
- ✅ 代码质量（Code Review）
- ✅ 文档体系
- ✅ 安全性建议
- ✅ 性能优化建议
- ✅ 监控运维建议
- ✅ 用户体验建议
- ✅ 团队协作建议

**特定功能建议** (根据功能自动添加):
- 支付功能 → 支付安全和幂等性建议
- 实时功能 → WebSocket 建议
- 搜索功能 → Elasticsearch 建议
- 推荐功能 → 推荐算法建议

### 6. 复杂度分析验证

测试不同输入,验证复杂度评分:

| 测试场景 | 功能数 | 平台数 | 类型 | 预期复杂度 | 预期评分 |
|---------|--------|--------|------|----------|---------|
| 简单博客 | 5 | 1 | 博客 | simple | 2-3 |
| 中型电商 | 7 | 2 | 电商 | moderate | 5-6 |
| 企业系统 | 10 | 3 | 企业 | complex | 8-9 |
| 金融系统 | 14 | 3 | 金融 | enterprise | 11-12 |

**检查点**:
- ✅ 功能越多,评分越高
- ✅ 跨平台项目评分更高
- ✅ 企业级/金融类型评分更高
- ✅ 复杂度等级与评分匹配

### 7. 响应式测试

测试不同屏幕尺寸:
- ✅ 桌面端 (1920x1080)
- ✅ 平板端 (768x1024)
- ✅ 移动端 (375x667)

### 8. 性能测试

**检查点**:
- ✅ 首次加载 < 1s
- ✅ 分析响应 1-2s
- ✅ 切换步骤流畅
- ✅ 无明显卡顿

---

## 常见问题

### Q1: 点击"开始分析"后没有反应?

**可能原因**:
1. 表单验证未通过 - 检查必填字段是否填写
2. JavaScript 错误 - 打开浏览器控制台查看错误信息
3. 服务器未启动 - 确认 `npm run dev` 正在运行

**解决方案**:
```bash
# 1. 检查控制台错误
打开浏览器开发者工具 (F12) → Console 标签

# 2. 重启开发服务器
Ctrl+C (停止服务器)
npm run dev (重新启动)

# 3. 清除缓存
Ctrl+Shift+R (硬刷新)
```

### Q2: 分析结果不够详细?

**优化建议**:
1. 填写更详细的项目描述
2. 列出更多核心功能 (5-10个)
3. 添加用户故事
4. 说明技术约束

### Q3: 技术栈推荐不符合预期?

**可能原因**:
1. 项目类型选择不准确
2. 复杂度评估与实际不符
3. 功能描述不够清晰

**解决方案**:
- 调整项目类型
- 增加或减少功能列表
- 添加更多上下文信息

### Q4: 想要使用真实 AI API?

参考 [AI_ANALYSIS_GUIDE.md](./AI_ANALYSIS_GUIDE.md) 中的配置说明

---

## 性能基准

### 简单项目
- 分析时间: 1.0-1.5s
- 技术栈数量: 8-12 项
- 开发阶段: 6 个
- 额外建议: 10-15 条

### 中等项目
- 分析时间: 1.2-1.8s
- 技术栈数量: 15-20 项
- 开发阶段: 6 个
- 额外建议: 15-20 条

### 复杂项目
- 分析时间: 1.5-2.0s
- 技术栈数量: 20-25 项
- 开发阶段: 6 个
- 额外建议: 20-25 条

### 企业级项目
- 分析时间: 1.8-2.5s
- 技术栈数量: 25-30 项
- 开发阶段: 6 个
- 额外建议: 25-30 条

---

## 回归测试清单

在发布新版本前,完成以下测试:

- [ ] 所有测试用例通过
- [ ] 复杂度分析准确
- [ ] 技术栈推荐合理
- [ ] 开发建议完整
- [ ] 额外建议相关
- [ ] UI 响应式正常
- [ ] 性能符合预期
- [ ] 无控制台错误
- [ ] 无 TypeScript 错误
- [ ] 构建成功

---

**最后更新**: 2025-01-XX
